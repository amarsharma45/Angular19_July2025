<!-- employee-list.component.html -->
<div class="container mt-4">
  <div class="card">
      <div class="card-header">
          <h4>Employee List</h4>
      </div>
      <div class="card-body">
            <div class="table-responsive">
    <table class="table table-bordered table-hover">
      <thead class="table-dark">
        <tr>
          <!-- <th>ID</th> -->
            <th>Sr</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Email</th>
          <th>Department</th>
          <th>Joining Date</th>
          <th>Salary</th>
          <!-- <th>Actions</th> -->
             <th>{{ username === 'admin' ? 'Actions' : 'Details' }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let emp of paginatedEmployees ;let i = index">
          <!-- <td>{{ emp.employeeID }}</td> -->
           <td>{{ i+1 }}</td>
          <td>{{ emp.firstName }}</td>
          <td>{{ emp.lastName }}</td>
          <td>{{ emp.email }}</td>
          <td>{{ emp.department }}</td>
          <td>{{ emp.joiningDate }}</td>
          <td>{{ emp.salary }}</td>
          <td>
            <span *ngIf="username === 'admin'">
              <button class="btn btn-sm btn-primary me-1" (click)="onEdit(emp.employeeID)">Edit</button>
              <button class="btn btn-sm btn-danger me-1" (click)="onDelete(emp.employeeID)">Delete</button>
            </span>
            <button class="btn btn-sm btn-secondary" (click)="onInfo(emp.employeeID)">Details</button>
          </td>
        
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination Controls -->
<nav class="d-flex justify-content-between align-items-center mb-3">
  <!-- Left side: Create button -->
  <!-- <a routerLink="/create-employee" (click)="create()" class="btn btn-link p-0">+ Create New Employee</a> -->
<a *ngIf="username === 'admin'" routerLink="/create-employee" (click)="create()" class="btn btn-link p-0">
  + Create New Employee
</a>
  <!-- Right side: Pagination -->
  <ul class="pagination mb-0">
    <li class="page-item" [class.disabled]="currentPage === 1">
      <button class="page-link" (click)="goToPage(currentPage - 1)">Previous</button>
    </li>
    <li
      class="page-item"
      *ngFor="let page of totalPagesArray"
      [class.active]="page === currentPage"
    >
      <button class="page-link" (click)="goToPage(page)">{{ page }}</button>
    </li>
    <li class="page-item" [class.disabled]="currentPage === totalPages">
      <button class="page-link" (click)="goToPage(currentPage + 1)">Next</button>
    </li>
  </ul>
</nav>

 
  <app-employee-model-edit
    *ngIf="showModal"
    [employee]="employee"
    [isEditMode]="isEditMode"
    (save)="onSave($event)"
     [attr.key]="employee.employeeID"
    (close)="showModal = false"
    [isInfo]="isInfo">
</app-employee-model-edit>
      </div>
  </div>






</div>
